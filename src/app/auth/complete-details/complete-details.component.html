<div class="whole-container" [@fadeInAnimation]="animationState">
  <div class="details-container">
    <form [formGroup]="userDetailsForm" (ngSubmit)="onSubmit()">
      <label for="username">Name:</label>
      <div id="username-privacy">
        <input
          type="text"
          id="username"
          formControlName="username"
          required
          readonly
        />
        <p style="padding-left: 10px">Public</p>
        <div
          class="privacy-slider"
          [class.namePrivate]="false"
          (click)="toggleNamePrivacy()"
        >
          <div class="slider-handle"></div>
        </div>
        <p>Private</p>
      </div>

      <label for="nickname">Username:</label>
      <div id="username-privacy">
        <input
          type="text"
          id="nickname"
          formControlName="nickname"
          required
          readonly
        />
        <p style="padding-left: 10px">Public</p>
        <div
          class="privacy-slider"
          [class.namePrivate]="false"
          (click)="toggleNamePrivacy()"
        >
          <div class="slider-handle"></div>
        </div>
        <p>Private</p>
      </div>

      <label for="phone">Phone:</label>
      <div id="phone-privacy">
        <input type="text" id="phone" formControlName="phone" required />
        <p style="padding-left: 10px">Public</p>
        <div
          class="privacy-slider"
          [class.phonePrivate]="isPhonePrivate"
          (click)="togglePhonePrivacy()"
        >
          <div class="slider-handle"></div>
        </div>
        <p>Private</p>
      </div>

      <label for="email">Email:</label>
      <div id="email-privacy">
        <input
          type="email"
          id="email"
          formControlName="email"
          required
          readonly
        />
        <p style="padding-left: 10px">Public</p>
        <div
          class="privacy-slider"
          [class.emailPrivate]="isEmailPrivate"
          (click)="toggleEmailPrivacy()"
        >
          <div class="slider-handle"></div>
        </div>
        <p>Private</p>
      </div>

      <label for="upiId">UpiId:</label>
      <div id="upiId-privacy">
        <input type="text" id="upiId" formControlName="upiId" required />
        <p style="padding-left: 10px">Public</p>
        <div
          class="privacy-slider"
          [class.upiPrivate]="isUpiIdPrivate"
          (click)="toggleUpiIdPrivacy()"
        >
          <div class="slider-handle"></div>
        </div>
        <p>Private</p>
      </div>

      <label for="address">Address:</label>
      <div id="address-privacy">
        <textarea id="address" formControlName="address" required></textarea>
        <p style="padding-left: 10px">Public</p>
        <div
          class="privacy-slider"
          [class.addressPrivate]="isAddressPrivate"
          (click)="toggleAddressPrivacy()"
        >
          <div class="slider-handle"></div>
        </div>
        <p>Private</p>
      </div>

      <br />
      <button
        type="submit"
        [disabled]="
          userDetailsForm.invalid || (!isPhoneVerified && !isEmailVerified)
        "
      >
        Submit
      </button>
      <button type="button" (click)="verifyPhone()">Verify Phone Number</button>
      <button type="button" (click)="verifyEmail()">Verify Email</button>
    </form>

    <div>isPhoneVerified: {{ isPhoneVerified }}</div>
    <div>isEmailVerified: {{ isEmailVerified }}</div>
  </div>

  <app-otp-form
    [ngStyle]="{ position: 'absolute', display: open ? 'block' : 'none' }"
  ></app-otp-form>
</div>
